"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[972],{3972:function(e,t,n){n.d(t,{default:function(){return D}});var a,r,i,o,l,s=n(7437),c=n(2265),u=n(9235),d=n(4446),m=n(5361),p=n(6425),g=n(4462),f=n(6871),v=n(9120),h=n(9842),b=n(5236),x=n(357);let w=["NEXT_PUBLIC_FIREBASE_API_KEY","NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN","NEXT_PUBLIC_FIREBASE_PROJECT_ID","NEXT_PUBLIC_FIREBASE_APP_ID"].filter(e=>!x.env[e]);w.length>0&&console.warn("[Firebase] Missing env vars: ".concat(w.join(", ")," — Firestore writes will be skipped"));let P={apiKey:x.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:x.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:x.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,appId:x.env.NEXT_PUBLIC_FIREBASE_APP_ID},y=0===w.length&&0===(0,b.C6)().length?(0,b.ZF)(P):null!==(a=(0,b.C6)()[0])&&void 0!==a?a:null,E=y?(0,h.ad)(y):null;async function _(e){if(!E){console.warn("[saveLead] Firebase not configured — skipping persistence");return}let t=(0,h.ET)((0,h.hJ)(E,"leads"),{...e,source:"web_form",createdAt:(0,h.Bt)()}),n=new Promise((e,t)=>setTimeout(()=>t(Error("Lead save timed out after 10 seconds")),1e4));await Promise.race([t,n])}var N=n(3604),I=n(1572),S=n(357);let C=null!==(r=S.env.NEXT_PUBLIC_EMAILJS_SERVICE_ID)&&void 0!==r?r:"",R=null!==(i=S.env.NEXT_PUBLIC_EMAILJS_TEMPLATE_ID)&&void 0!==i?i:"",j=null!==(o=S.env.NEXT_PUBLIC_EMAILJS_CONFIRM_TEMPLATE_ID)&&void 0!==o?o:"",T=null!==(l=S.env.NEXT_PUBLIC_EMAILJS_PUBLIC_KEY)&&void 0!==l?l:"";function M(e){return null!=e&&Number.isFinite(e)?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e):"N/A"}async function A(e,t,n,a){let r=I.ZP.send(e,t,n,a),i=new Promise((e,t)=>setTimeout(()=>t(Error("Email send timed out")),1e4));await Promise.race([r,i])}async function L(e,t,n,a,r){var i,o;let l;for(let r=0;r<=2;r++)try{await A(e,t,n,a);return}catch(e){if(l=e,r<2){let e=1500*(r+1);await function(e){return new Promise(t=>setTimeout(t,e))}(e)}}throw i=l,o={component:"sendLeadEmail",action:r},console.error(JSON.stringify({error:i instanceof Error?i.message:String(i),...o,ts:Date.now()})),l}async function k(e){var t;if(!C||!R||!T)return;let n=e.calculatorContext,a=new Date,r={name:e.name||"N/A",email:e.email||"N/A",company:e.company||"N/A",role:e.role||"N/A",message:(null===(t=e.message)||void 0===t?void 0:t.trim())||"N/A",sessionId:e.sessionId||"N/A",regimeId:e.regimeId||"N/A",source:e.source||"request_contact_form",submittedAt:e.submittedAt||a.toISOString(),time:a.toLocaleString(),calcAnnualTons:(null==n?void 0:n.annualTons)!=null?"".concat(n.annualTons.toLocaleString()," t"):"N/A",calcScrapRate:(null==n?void 0:n.scrapRatePct)!=null?"".concat(n.scrapRatePct.toFixed(1),"%"):"N/A",calcCostPerTon:M(null==n?void 0:n.costPerTon),calcMaterialSavings:M(null==n?void 0:n.estimatedMaterialSavings),calcEbitda:M(null==n?void 0:n.estimatedEbitda),hasCalculator:n?"yes":""};await L(C,R,r,T,"lead_email")}async function F(e){if(!C||!j||!T)return;let t={email:e.email,name:e.name,company:e.company,...e.params};await L(C,j,t,T,"confirmation_email")}C&&R&&T||console.warn("[EmailJS] Missing env vars — email notifications will be skipped");var B=n(1409);let O={tons:12500,scrapRate:8,costPerTon:850,scrapReductionPts:1.5,revenueMultiplier:2.5,laborFraction:.15,contributionMarginPct:20,preventableReworkLaborPct:4,reworkReductionPct:40,throughputImprovementPct:2},U=["Operations","Engineering","IT / Security","Executive","Other"];function D(e){let{id:t="contact"}=e,[n,a]=(0,c.useState)({name:"",email:"",company:"",role:"",message:"",_hp:""}),[r,i]=(0,c.useState)({}),[o,l]=(0,c.useState)(!1),[h,b]=(0,c.useState)(!1),[x,w]=(0,c.useState)(null);(0,c.useEffect)(()=>{window.dispatchEvent(new CustomEvent("analytics",{detail:{type:"lead_form_view",stage:"lead_form_view"}}))},[]);let P=()=>{let e={};return n.name.trim()||(e.name="Required"),n.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||(e.email="Valid work email required"),n.company.trim()||(e.company="Required"),n.role||(e.role="Required"),e},y=async e=>{var t;e.preventDefault();let a=e.target.elements.namedItem("website");if(null==a?void 0:a.value)return;let r=P();if(Object.keys(r).length){i(r);return}i({}),w(null),l(!0);let o=(0,g.P)(),s=null!==(t=(0,f.M)())&&void 0!==t?t:"unknown";try{await k({...n,sessionId:s,regimeId:o,source:"request_contact_form",submittedAt:new Date().toISOString(),calculatorContext:(0,N.E)()}),b(!0)}catch(e){console.error("Email send failed:",e),w("Something went wrong while submitting your request. Please try again.")}finally{l(!1)}let c=n.name,u=n.email,d=n.company,p=n.role,h=n.message;try{let e=(0,N.E)(),t=function(e,t){var n,a,r;let i=null!==(n=null==e?void 0:e.annualTons)&&void 0!==n?n:O.tons,o=null!==(a=null==e?void 0:e.scrapRatePct)&&void 0!==a?a:O.scrapRate,l=null!==(r=null==e?void 0:e.costPerTon)&&void 0!==r?r:O.costPerTon,s=function(e,t,n){var a;let r=(a=t-O.scrapReductionPts,Math.min(Math.max(a,0),t)),i=e*n*O.revenueMultiplier,o=i*O.laborFraction;return(0,B.Nx)({annualTonsProcessed:e,avgMaterialCostPerTon:n,annualFabricationRevenue:i,annualFabricationLaborCost:o,incrementalContributionMarginPct:O.contributionMarginPct,currentScrapRatePct:t,targetScrapRatePct:r,preventableReworkLaborPct:O.preventableReworkLaborPct,reworkReductionPct:O.reworkReductionPct,throughputImprovementPct:O.throughputImprovementPct,includeOversightRisk:!1})}(i,o,l),c=s.material.dollarsSaved,u=s.labor.dollarsSaved,d=s.throughput.ebitdaContribution,m=Math.max(c,u,d,1);return{firstName:t.split(" ")[0]||"there",specLabel:e?"Based on your inputs:":"Based on a typical mid-size fabricator (12,500 t/year, 8% scrap, $850/ton):",annualTons:"".concat(i.toLocaleString()," tons"),scrapRate:"".concat(o.toFixed(1),"%"),costPerTon:"".concat((0,B.ZP)(l),"/ton"),tonsSaved:"".concat(Math.round(s.material.tonsSaved).toLocaleString()," t"),materialSavings:(0,B.ZP)(c),laborSavings:(0,B.ZP)(u),throughputSavings:(0,B.ZP)(d),totalEbitda:(0,B.ZP)(s.totals.annualEbitdaIncrease),materialPct:"".concat(m>0?Math.round(c/m*100):0),laborPct:"".concat(m>0?Math.round(u/m*100):0),throughputPct:"".concat(m>0?Math.round(d/m*100):0)}}(e,c);console.log("[LeadForm] Confirmation params:",JSON.stringify(t)),F({email:u,name:c,company:d,params:{...t}}).catch(e=>console.warn("Confirmation email failed (non-critical):",e)),_({name:c,email:u,company:d,role:p,message:h,sessionId:s,regimeId:o}).catch(e=>console.warn("Firebase save failed (non-critical):",e)),window.dispatchEvent(new CustomEvent("analytics",{detail:{type:"lead_form_submit",stage:"lead_form_submit",regimeId:null!=o?o:void 0,role:p}}));let n={id:"".concat(s,"_form_submit"),type:"form_submit",sessionId:s,createdAt:Date.now()};(0,v.JX)(n),window.dispatchEvent(new CustomEvent("analytics",{detail:{...n,type:"sales_notification",notificationType:n.type}})),(0,m.L)("lead_submitted",{role:p,regimeId:null!=o?o:"unknown"})}catch(e){console.warn("Post-submit side effects failed (non-critical):",e)}},E=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(0,s.jsxs)("label",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs font-semibold text-muted uppercase tracking-wide",children:t}),(0,s.jsx)("input",{type:i,value:n[e],onChange:t=>a(n=>({...n,[e]:t.target.value})),placeholder:o,className:"ra-input ".concat(r[e]?"border-red-500/60":""),"aria-invalid":!!r[e],"aria-describedby":r[e]?"".concat(e,"-error"):void 0}),r[e]&&(0,s.jsx)("span",{id:"".concat(e,"-error"),className:"text-xs text-red-400",children:r[e]})]})};return(0,s.jsxs)("section",{id:t,className:"relative overflow-hidden py-24 bg-bg border-t border-line",children:[(0,s.jsx)("img",{src:"/images/team-collaboration.jpg",alt:"","aria-hidden":"true",loading:"lazy",decoding:"async",className:"absolute inset-0 w-full h-full object-cover opacity-[0.08] mix-blend-luminosity pointer-events-none"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-bg/90 via-bg/70 to-bg/90 pointer-events-none"}),(0,s.jsx)("div",{className:"relative z-10 max-w-6xl mx-auto px-6",children:(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 md:gap-16 items-start",children:[(0,s.jsxs)(u.E.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:p.pB,children:[(0,s.jsx)("p",{className:"text-xs font-bold tracking-[0.18em] uppercase text-accent mb-4",children:"Get in Touch"}),(0,s.jsx)("h2",{className:"text-3xl md:text-4xl font-semibold text-txt mb-5 leading-tight",children:"Request a scoped consultation"}),(0,s.jsx)("p",{className:"text-muted leading-relaxed mb-8",children:"Complete the form and we'll return with a fit assessment, suggested rollout scope, and a timeline for value realization."}),(0,s.jsx)("ul",{className:"flex flex-col gap-3",children:["Role-specific solution mapping for operations, engineering, and procurement.","Estimated savings ranges by segment and material throughput.","Optional technical deep-dive with architecture and governance review."].map(e=>(0,s.jsxs)("li",{className:"flex gap-3 text-sm text-muted",children:[(0,s.jsx)("svg",{className:"w-4 h-4 text-accent shrink-0 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})}),e]},e))})]}),(0,s.jsx)(u.E.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:p.pB,className:"border border-line bg-card rounded-2xl p-7",children:(0,s.jsx)(d.M,{mode:"wait",children:h?(0,s.jsxs)(u.E.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:"text-center py-8",role:"status","aria-live":"polite","aria-atomic":"true",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-500/15 border border-green-500/30 flex items-center justify-center mx-auto mb-4","aria-hidden":"true",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-green-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-txt mb-2",children:"Request received"}),(0,s.jsx)("p",{className:"text-muted text-sm",children:"We'll follow up with a fit assessment and suggested scope."})]},"success"):(0,s.jsxs)(u.E.form,{onSubmit:y,className:"flex flex-col gap-4",noValidate:!0,children:[(0,s.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[E("name","Full name","text","Jane Smith"),E("email","Work email","email","jane@company.com")]}),E("company","Company","text","Acme Fabrication"),(0,s.jsxs)("label",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs font-semibold text-muted uppercase tracking-wide",children:"Role"}),(0,s.jsxs)("select",{value:n.role,onChange:e=>a(t=>({...t,role:e.target.value})),className:"ra-input ".concat(r.role?"border-red-500/60":""),"aria-invalid":!!r.role,"aria-describedby":r.role?"role-error":void 0,children:[(0,s.jsx)("option",{value:"",children:"Select…"}),U.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),r.role&&(0,s.jsx)("span",{id:"role-error",className:"text-xs text-red-400",children:r.role})]}),(0,s.jsxs)("label",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs font-semibold text-muted uppercase tracking-wide",children:"Message (optional)"}),(0,s.jsx)("textarea",{value:n.message,onChange:e=>a(t=>({...t,message:e.target.value})),placeholder:"Describe your workflow challenge, throughput, or goals…",rows:4,maxLength:2e3,className:"ra-input resize-none"})]}),(0,s.jsx)("input",{type:"text",name:"website",autoComplete:"off",className:"absolute opacity-0 h-0 w-0 overflow-hidden",tabIndex:-1,"aria-hidden":"true"}),x&&(0,s.jsx)("p",{className:"text-sm text-amber-300",role:"status",children:x}),(0,s.jsx)("button",{type:"submit",disabled:o,"aria-busy":o,"aria-label":o?"Sending your request…":"Submit contact request",className:"w-full py-3.5 rounded-lg bg-accent hover:bg-blue-500 disabled:opacity-60 disabled:cursor-not-allowed text-white font-semibold transition-all hover:-translate-y-px mt-1",children:o?"Sending…":"Request Contact"})]},"form")})})]})})]})}},5361:function(e,t,n){n.d(t,{L:function(){return a}});function a(e,t){"function"==typeof window.gtag&&window.gtag("event",e,t),window.dispatchEvent(new CustomEvent("analytics",{detail:{type:e,...t}}))}},3604:function(e,t,n){n.d(t,{E:function(){return i},M:function(){return r}});let a="ra_calc_ctx";function r(e){try{sessionStorage.setItem(a,JSON.stringify(e))}catch(e){}}function i(){try{let e=sessionStorage.getItem(a);return e?JSON.parse(e):null}catch(e){return null}}},4462:function(e,t,n){n.d(t,{P:function(){return i},i:function(){return r}});let a=null;function r(e){a=e}function i(){return a}},1409:function(e,t,n){function a(e,t,n){return Math.min(Math.max(e,t),n)}function r(e){!function(e){for(let t of["annualTonsProcessed","avgMaterialCostPerTon","annualFabricationRevenue","annualFabricationLaborCost","incrementalContributionMarginPct","currentScrapRatePct","targetScrapRatePct","preventableReworkLaborPct","reworkReductionPct","throughputImprovementPct","includeOversightRisk"])if("number"!=typeof e[t]&&"boolean"!=typeof e[t])throw Error("Missing or invalid input: ".concat(t));if(e.annualTonsProcessed<0)throw Error("annualTonsProcessed must be >= 0");if(e.avgMaterialCostPerTon<0)throw Error("avgMaterialCostPerTon must be >= 0");if(e.annualFabricationRevenue<0)throw Error("annualFabricationRevenue must be >= 0");if(e.annualFabricationLaborCost<0)throw Error("annualFabricationLaborCost must be >= 0");if(e.includeOversightRisk)for(let t of["annualQALaborCost","annualMajorErrorCost","errorReductionPct"]){if("number"!=typeof e[t])throw Error("Missing oversight/risk input: ".concat(t));if(e[t]<0)throw Error("".concat(t," must be >= 0"))}}(e);let t=a(e.currentScrapRatePct,0,100),n=a(e.targetScrapRatePct,0,100),r=a(e.preventableReworkLaborPct,0,100),i=a(e.reworkReductionPct,0,100),o=a(e.throughputImprovementPct,0,100),l=a(e.incrementalContributionMarginPct,0,100),s=Math.max(0,e.annualTonsProcessed)/25e3,c=e.annualTonsProcessed*(Math.max(0,t-n)/100),u=c*e.avgMaterialCostPerTon,d=e.annualFabricationLaborCost*s*(r/100)*(i/100),m=e.annualFabricationRevenue*s,p=o/100*m,g=l/100*p,f=0;if(e.includeOversightRisk){let t=a(e.errorReductionPct,0,100);f=e.annualQALaborCost*s*(t/100)+e.annualMajorErrorCost*s*(t/100)}let v=u+d+g+f;return{material:{tonsSaved:c,dollarsSaved:u},labor:{dollarsSaved:d},throughput:{incrementalRevenue:p,ebitdaContribution:g},oversightRisk:{dollarsSaved:f},totals:{annualEbitdaIncrease:v,ebitdaMarginImprovementPct:m>0?v/m*100:0},pricing:{lowFrictionAnnual:.08*v,baseAnnual:.12*v,aggressiveAnnual:.15*v}}}function i(e){let{maximumFractionDigits:t=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:t}).format(Number.isFinite(e)?e:0)}function o(e){let{maximumFractionDigits:t=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"".concat(function(e){let{maximumFractionDigits:t=2}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Intl.NumberFormat("en-US",{maximumFractionDigits:t}).format(Number.isFinite(e)?e:0)}(e,{maximumFractionDigits:t}),"%")}n.d(t,{Nx:function(){return r},ZP:function(){return i},at:function(){return o}})},6425:function(e,t,n){n.d(t,{EY:function(){return r},pB:function(){return a}});let a={hidden:{opacity:0,y:36},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},r={hidden:{},visible:{transition:{staggerChildren:.12}}}},9120:function(e,t,n){n.d(t,{JX:function(){return o},Or:function(){return l},Vl:function(){return r}});let a="exec_sales_notifications_v1";function r(){try{let e=window.localStorage.getItem(a);if(!e)return[];let t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return[]}}function i(e){window.localStorage.setItem(a,JSON.stringify(e.slice(0,200)))}function o(e){i([e,...r().filter(t=>t.id!==e.id)].slice(0,200))}function l(e){i(r().map(t=>t.id===e?{...t,acknowledged:!0}:t))}},6871:function(e,t,n){n.d(t,{M:function(){return r}});let a="exec_session_id";function r(){let e=window.localStorage.getItem(a);return e||(e=window.crypto.randomUUID(),window.localStorage.setItem(a,e)),e}}}]);