(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[368],{4792:function(e,t,a){Promise.resolve().then(a.bind(a,1999))},1999:function(e,t,a){"use strict";a.d(t,{default:function(){return S}});var n=a(7437),r=a(2265);function l(e,t,a){return Math.min(Math.max(e,t),a)}function s(e){let{maximumFractionDigits:t=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:t}).format(Number.isFinite(e)?e:0)}function i(e){let{maximumFractionDigits:t=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"".concat(function(e){let{maximumFractionDigits:t=2}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Intl.NumberFormat("en-US",{maximumFractionDigits:t}).format(Number.isFinite(e)?e:0)}(e,{maximumFractionDigits:t}),"%")}function o(e){let{label:t,value:a,onChange:r}=e;return(0,n.jsxs)("label",{className:"block",children:[(0,n.jsx)("span",{className:"block text-sm text-neutral-600 mb-2",children:t}),(0,n.jsx)("input",{type:"number",value:a,onChange:e=>r(Number(e.target.value)),className:"w-full border border-neutral-300 rounded-md px-3 py-2 text-sm"})]})}function c(e){let{inputs:t,setInputs:a}=e,r=(e,n)=>a({...t,[e]:n});return(0,n.jsxs)("div",{className:"space-y-10",children:[(0,n.jsxs)("section",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6",children:[(0,n.jsx)("h2",{className:"text-lg font-medium mb-6",children:"Facility Profile"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsx)(o,{label:"Annual Tons Processed",value:t.annualTonsProcessed,onChange:e=>r("annualTonsProcessed",e)}),(0,n.jsx)(o,{label:"Avg Material Cost per Ton ($)",value:t.avgMaterialCostPerTon,onChange:e=>r("avgMaterialCostPerTon",e)}),(0,n.jsx)(o,{label:"Annual Revenue ($)",value:t.annualFabricationRevenue,onChange:e=>r("annualFabricationRevenue",e)}),(0,n.jsx)(o,{label:"Annual Fabrication Labor Cost ($)",value:t.annualFabricationLaborCost,onChange:e=>r("annualFabricationLaborCost",e)}),(0,n.jsx)(o,{label:"Contribution Margin (%)",value:t.incrementalContributionMarginPct,onChange:e=>r("incrementalContributionMarginPct",e)})]})]}),(0,n.jsxs)("section",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6",children:[(0,n.jsx)("h2",{className:"text-lg font-medium mb-6",children:"Impact Assumptions"}),(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-neutral-700 mb-3",children:"Material Efficiency"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsx)(o,{label:"Current Scrap Rate (%)",value:t.currentScrapRatePct,onChange:e=>r("currentScrapRatePct",e)}),(0,n.jsx)(o,{label:"Target Scrap Rate (%)",value:t.targetScrapRatePct,onChange:e=>r("targetScrapRatePct",e)})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-neutral-700 mb-3",children:"Labor Rework"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsx)(o,{label:"Preventable Rework (% of labor)",value:t.preventableReworkLaborPct,onChange:e=>r("preventableReworkLaborPct",e)}),(0,n.jsx)(o,{label:"Rework Reduction (%)",value:t.reworkReductionPct,onChange:e=>r("reworkReductionPct",e)})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-neutral-700 mb-3",children:"Throughput Capacity"}),(0,n.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:(0,n.jsx)(o,{label:"Throughput Improvement (%)",value:t.throughputImprovementPct,onChange:e=>r("throughputImprovementPct",e)})})]}),(0,n.jsxs)("details",{className:"border border-neutral-200 rounded-lg p-4",open:t.includeOversightRisk,children:[(0,n.jsx)("summary",{className:"cursor-pointer text-sm font-semibold text-neutral-700",children:"Include Oversight & Risk Model"}),(0,n.jsxs)("div",{className:"mt-4 grid md:grid-cols-2 gap-6",children:[(0,n.jsx)(o,{label:"Annual QA / Inspection Cost ($)",value:t.annualQALaborCost,onChange:e=>r("annualQALaborCost",e)}),(0,n.jsx)(o,{label:"Annual Major Error Cost ($)",value:t.annualMajorErrorCost,onChange:e=>r("annualMajorErrorCost",e)}),(0,n.jsx)(o,{label:"Error Reduction (%)",value:t.errorReductionPct,onChange:e=>r("errorReductionPct",e)}),(0,n.jsxs)("label",{className:"flex items-end gap-2 text-sm text-neutral-700",children:[(0,n.jsx)("input",{type:"checkbox",checked:t.includeOversightRisk,onChange:e=>r("includeOversightRisk",e.target.checked)}),"Enable oversight/risk contribution"]})]})]})]})]})]})}function d(e){let{acronym:t,caption:a}=e,[l,s]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),c=l||i;return(0,n.jsxs)("span",{className:"relative inline-flex items-center align-baseline",children:[(0,n.jsx)("button",{type:"button",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onFocus:()=>s(!0),onBlur:()=>s(!1),onClick:()=>o(e=>!e),className:"inline-flex items-center rounded px-1 text-inherit decoration-dotted underline-offset-2 transition-colors hover:bg-neutral-100 hover:text-neutral-900 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400","aria-expanded":c,"aria-label":"".concat(t,": ").concat(a),children:t}),c?(0,n.jsx)("span",{className:"absolute left-0 top-full z-20 mt-1 w-64 rounded-md border border-neutral-700 bg-neutral-900 px-3 py-2 text-left text-[11px] font-normal normal-case tracking-normal text-white shadow-lg",children:a}):null]})}var u=a(4501),m=a(9235),x=a(3734);function h(e){let{segments:t,total:a,ariaLabel:r,className:l,prefix:s="$"}=e,i=(0,u.J)(),o=e=>e>=1e6?"".concat(s).concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat(s).concat((e/1e3).toFixed(0),"k"):"".concat(s).concat(e.toFixed(0)),c=12,d=t.filter(e=>e.value>0).map(e=>{let t=a>0?e.value/a*536:0,n={...e,x:c,w:t};return c+=t,n});return(0,n.jsx)("div",{className:l,children:(0,n.jsxs)("svg",{viewBox:"0 0 ".concat(560," ").concat(100),className:"w-full h-auto",role:"img","aria-label":r,children:[(0,n.jsx)("title",{children:r}),(0,n.jsx)("rect",{x:12,y:10,width:536,height:32,rx:6,fill:x.C.line,opacity:"0.3"}),d.map((e,t)=>{let a=0===t,r=t===d.length-1,l=a||r?6:0;return i?(0,n.jsxs)("g",{children:[(0,n.jsx)("rect",{x:e.x+(a?0:.5),y:10,width:Math.max(0,e.w-(a||r?0:1)),height:32,rx:l,fill:e.color,opacity:"0.8"}),(0,n.jsx)("text",{x:e.x+e.w/2,y:58,textAnchor:"middle",fill:x.C.muted,fontSize:"8",fontFamily:x.n,children:e.label}),e.w>50&&(0,n.jsx)("text",{x:e.x+e.w/2,y:30,textAnchor:"middle",fill:x.C.txt,fontSize:"9",fontFamily:x.$,fontWeight:"600",children:o(e.value)})]},t):(0,n.jsxs)("g",{children:[(0,n.jsx)(m.E.rect,{x:e.x+(a?0:.5),y:10,height:32,rx:l,fill:e.color,opacity:"0.8",initial:{width:0},animate:{width:Math.max(0,e.w-(a||r?0:1))},transition:{type:"spring",stiffness:100,damping:20,delay:.08*t}}),(0,n.jsx)("text",{x:e.x+e.w/2,y:58,textAnchor:"middle",fill:x.C.muted,fontSize:"8",fontFamily:x.n,children:e.label}),e.w>50&&(0,n.jsx)(m.E.text,{x:e.x+e.w/2,y:30,textAnchor:"middle",fill:x.C.txt,fontSize:"9",fontFamily:x.$,fontWeight:"600",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.08*t+.3},children:o(e.value)})]},t)}),(0,n.jsxs)("text",{x:548,y:58,textAnchor:"end",fill:x.C.txt,fontSize:"10",fontFamily:x.$,fontWeight:"600",children:["Total: ",o(a)]})]})})}function b(e){let{title:t,value:a}=e;return(0,n.jsxs)("div",{className:"rounded-md border border-neutral-700 p-4",children:[(0,n.jsx)("div",{className:"text-neutral-400 text-xs mb-1",children:t}),(0,n.jsx)("div",{className:"text-base font-semibold",children:a})]})}function p(e){let{results:t}=e,a=(0,r.useRef)(null),[l,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=a.current;if(!e)return;let t=new IntersectionObserver(e=>{let[a]=e;a.isIntersecting&&(o(!0),t.disconnect())},{threshold:.25});return t.observe(e),()=>{t.disconnect()}},[]),(0,n.jsxs)("section",{className:"bg-neutral-900 text-white rounded-xl p-8 space-y-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h2",{className:"text-xl font-semibold mb-6",children:["Annual ",(0,n.jsx)(d,{acronym:"EBITDA",caption:"Earnings Before Interest, Taxes, Depreciation, and Amortization"})," Impact"]}),(0,n.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 text-sm",children:[(0,n.jsx)(b,{title:"Material Savings",value:s(t.material.dollarsSaved)}),(0,n.jsx)(b,{title:"Labor Savings",value:s(t.labor.dollarsSaved)}),(0,n.jsx)(b,{title:"Throughput Contribution",value:s(t.throughput.ebitdaContribution)}),(0,n.jsx)(b,{title:"Oversight / Risk",value:s(t.oversightRisk.dollarsSaved)})]})]}),(0,n.jsx)(h,{ariaLabel:"EBITDA impact composition breakdown",segments:[{label:"Material",value:t.material.dollarsSaved,color:"#2e7deb"},{label:"Labor",value:t.labor.dollarsSaved,color:"#6fb0ff"},{label:"Throughput",value:t.throughput.ebitdaContribution,color:"#38E18E"},{label:"Oversight",value:t.oversightRisk.dollarsSaved,color:"#f59e0b"}],total:t.totals.annualEbitdaIncrease}),(0,n.jsxs)("div",{ref:a,className:"border-t border-neutral-700 pt-6 transition-all duration-500 ease-out ".concat(l?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),children:[(0,n.jsx)("div",{className:"text-3xl font-semibold",children:s(t.totals.annualEbitdaIncrease)}),(0,n.jsxs)("div",{className:"text-neutral-400 mt-2",children:["EBITDA Margin Improvement: +",i(t.totals.ebitdaMarginImprovementPct)]})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-700 pt-6 text-sm text-neutral-300",children:[(0,n.jsx)("div",{className:"font-medium mb-3",children:"Execution Infrastructure Investment Range"}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"Low Friction"}),(0,n.jsxs)("span",{children:[s(t.pricing.lowFrictionAnnual)," / year"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"Base"}),(0,n.jsxs)("span",{children:[s(t.pricing.baseAnnual)," / year"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"Full Deployment"}),(0,n.jsxs)("span",{children:[s(t.pricing.aggressiveAnnual)," / year"]})]})]})]})}var g=a(8059),v=a.n(g);function j(e,t){return t.reduce((t,a,n)=>t+a/Math.pow(1+e,n),0)}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,a=t;for(let t=0;t<1e3;t++){let t=0,n=0;for(let r=0;r<e.length;r++)t+=e[r]/Math.pow(1+a,r),n-=r*e[r]/Math.pow(1+a,r+1);if(1e-7>Math.abs(n))break;let r=a-t/n;if(!Number.isFinite(r)||r<=-.9999)break;if(1e-7>Math.abs(r-a))return r;a=r}for(let t=-.9;t<=1.5;t+=.01)if(.001>Math.abs(j(t,e)))return t;return null}function y(e){let{label:t,value:a,onChange:r}=e;return(0,n.jsxs)("label",{className:"block",children:[(0,n.jsx)("span",{className:"block text-sm text-neutral-600 mb-2",children:t}),(0,n.jsx)("input",{type:"number",value:a,onChange:e=>r(Number(e.target.value)),className:"w-full border border-neutral-300 rounded-md px-3 py-2 text-sm"})]})}function w(e){let{title:t,value:a}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm text-neutral-500",children:t}),(0,n.jsx)("div",{className:"text-lg font-semibold mt-1",children:a})]})}function R(e){let{label:t,value:a}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-neutral-400 text-xs uppercase tracking-wide",children:t}),(0,n.jsx)("div",{className:"text-xl font-semibold mt-2",children:a})]})}let N={low:.75,base:1,high:1.35},C={low:.08,base:.12,high:.15};function P(e){let{perFacilityEbitdaIncrease:t,perFacilityRevenue:a}=e,l={EBITDA:()=>(0,n.jsx)(d,{acronym:"EBITDA",caption:"Earnings Before Interest, Taxes, Depreciation, and Amortization"}),ARR:()=>(0,n.jsx)(d,{acronym:"ARR",caption:"Annual Recurring Revenue"}),NRR:()=>(0,n.jsx)(d,{acronym:"NRR",caption:"Net Revenue Retention"}),LTV:()=>(0,n.jsx)(d,{acronym:"LTV",caption:"Lifetime Value"}),ROI:()=>(0,n.jsx)(d,{acronym:"ROI",caption:"Return on Investment"}),NPV:()=>(0,n.jsx)(d,{acronym:"NPV",caption:"Net Present Value"}),IRR:()=>(0,n.jsx)(d,{acronym:"IRR",caption:"Internal Rate of Return"}),SaaS:()=>(0,n.jsx)(d,{acronym:"SaaS",caption:"Software as a Service"}),RD:()=>(0,n.jsx)(d,{acronym:"R&D",caption:"Research and Development"}),GA:()=>(0,n.jsx)(d,{acronym:"G&A",caption:"General and Administrative"})},[o,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)("base"),[x,h]=(0,r.useState)("base"),[b,p]=(0,r.useState)(100),[g,P]=(0,r.useState)(3),[M,S]=(0,r.useState)(5),[A,F]=(0,r.useState)(10),[k,E]=(0,r.useState)(8),[I,T]=(0,r.useState)(8),[L,D]=(0,r.useState)(8e3),[B,Y]=(0,r.useState)(12e3),[O,V]=(0,r.useState)(7e4),[U,G]=(0,r.useState)(5),[z,$]=(0,r.useState)(12),[_,Q]=(0,r.useState)(80),[H,q]=(0,r.useState)(25),[W,J]=(0,r.useState)(18),[K,X]=(0,r.useState)(12),Z=(0,r.useMemo)(()=>{let e=Math.max(1,g),n=Math.max(1,M),r=b/e,l=N[u],s=C[x],i=t*l,o=Math.max(0,U/100),c=Math.max(0,1-o+Math.max(0,z/100)),d=Math.max(0,_/100),m=Math.max(0,H/100),h=Math.max(0,W/100),p=Math.max(0,K/100),v=0,y=0,w=0,R=null,P=[0],S=[],F=[],E=[];for(let t=1;t<=n;t++){let a=t<=e?r*t:b,n=t<=e?r:0,l=a*i,o=n*(L+B),u=a*O,x=l-o-u;v+=l,y+=o+u,w+=x,P.push(x),null===R&&w>0&&(R=t),n>0&&E.push({yearStarted:t,facilities:n,arrPerFacility:i*s});let g=0;E.forEach(e=>{let a=Math.pow(c,t-e.yearStarted),n=e.facilities*e.arrPerFacility*a;g+=n}),S.push(g);let j=g*d,f=g*(m+h+p);F.push(j-f)}let T=i*b,D=a*b,Y=y>0?w/y:0,V=j(Math.max(0,A/100),P),G=f(P),$=S[0]||0,Q=S[S.length-1]||0,q=n>1&&$>0?Math.pow(Q/$,1/(n-1))-1:0,J=F[F.length-1]||0,X=Q>0?J/Q*100:0,Z=Q*I,ee=J*k,et=o>0&&E.length>0?E[0].arrPerFacility*d/o:null,ea=E.map(e=>{let t=n-e.yearStarted;return{label:"Cohort Year ".concat(e.yearStarted),value:e.facilities*e.arrPerFacility*Math.pow(c,t)}});function en(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t*a*r,o=[],u=[],x=[],g=[0],v=Math.max(1,Math.ceil(e*l)),y=b/v,w=0,R=null;for(let e=1;e<=n;e++){let t=e<=v?y*e:b,a=e<=v?y:0,n=t*i-a*(L+B)-t*O;w+=n,g.push(n),null===R&&w>0&&(R=e),a>0&&o.push({yearStarted:e,facilities:a,arrPerFacility:i*s});let r=0;for(let t of o){let a=e-t.yearStarted;r+=t.facilities*t.arrPerFacility*Math.pow(c,a)}u.push(r);let l=r*d,j=r*(m+h+p);x.push(l-j)}let N=u[0]||0,C=u[u.length-1]||0,P=n>1&&N>0?Math.pow(C/N,1/(n-1))-1:0,M=x[x.length-1]||0,S=C>0?M/C*100:0,F=f(g);return{finalARR:C,arrCAGR:P,netRevenueRetentionPct:100*c,ebitdaMarginPct:S,irrPct:null!==F?100*F:0,npv:j(Math.max(0,A/100),g),paybackYear:R,arrValuationImpact:C*I,ebitdaValuation:M*k,ruleOf40Pct:100*P+S}}return{safeProjectionYears:n,cumulativeImpact:v,cumulativeNet:w,paybackYear:R,roiMultiple:Y,annualPortfolioImpact:T,portfolioMarginLiftPct:D>0?T/D*100:0,npv:V,irr:G,arrByYear:S,saasEbitdaByYear:F,finalYearARR:Q,arrCagr:q,arrValuationImpact:Z,netRevenueRetentionPct:100*c,finalYearSaasEbitda:J,saasEbitdaMarginPct:X,ebitdaValuationImpact:ee,ruleOf40Pct:100*q+X,ltvPerFacility:et,cohortFinalYearContributions:ea,scenarios:[{name:"Low",multiplier:N.low},{name:"Base",multiplier:N.base},{name:"High",multiplier:N.high}],annualNetCashFlows:P.slice(1),scenarioSnapshots:{low:en(N.low),base:en(N.base),high:en(N.high)},downsideSnapshot:en(N.base,.8,1.25)}},[O,I,x,g,A,z,K,U,_,L,B,t,a,M,W,H,u,b,k]);async function ee(){try{let e={meta:{companyName:"Reality Anchors",docTitle:"Board Brief",schemaVersion:"1.0.0",confidentialityLine:"Confidential â€” Board Use Only",baseUrl:window.location.origin,logoPath:"/ra-logo.png"},customerEconomics:{materialSaved:.45*t,laborSaved:.2*t,throughput:.25*t,oversight:.1*t,totalEbitda:t,marginDeltaPct:a>0?t/a*100:0,pricingLow:.08*t,pricingBase:.12*t,pricingHigh:.15*t},ramp:{totalFacilities:b,deploymentYears:g,projectionYears:Z.safeProjectionYears,annualNetCashFlows:Z.annualNetCashFlows,paybackYear:Z.paybackYear,npv:Z.npv,irr:Z.irr},saasEconomics:{finalARR:Z.finalYearARR,arrCAGR:Z.arrCagr,nrrPct:Z.netRevenueRetentionPct,grossMarginPct:_,finalEbitda:Z.finalYearSaasEbitda,ebitdaMarginPct:Z.saasEbitdaMarginPct,arrValuation:Z.arrValuationImpact,ebitdaValuation:Z.ebitdaValuationImpact},scenarios:Z.scenarioSnapshots,downsideScenario:Z.downsideSnapshot,evidenceTags:{totalEbitda:"Estimated",npv:"Modeled",irr:"Modeled",arrCAGR:"Modeled",netRevenueRetention:"Assumed",ebitdaMargin:"Modeled"}},n=await fetch("/api/export-board-deck",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){let e="Unable to export board deck.";try{let t=await n.json();if(e=(null==t?void 0:t.message)||e,(null==t?void 0:t.error)==="PDF_ENGINE_UNAVAILABLE"&&(null==t?void 0:t.htmlPreview)){let e=window.open("","_blank");e&&(e.document.open(),e.document.write(t.htmlPreview),e.document.close())}}catch(t){e=await n.text()}throw Error(e||"Unable to export board deck.")}let r=await n.blob(),l=window.URL.createObjectURL(r),s=document.createElement("a");s.href=l,s.download="RA-Board-Deck.pdf",s.click(),window.URL.revokeObjectURL(l)}catch(e){window.alert(e instanceof Error?e.message:"Unable to export board deck.")}}return(0,n.jsxs)("section",{className:"bg-white rounded-xl border border-neutral-200 p-8 space-y-8",children:[(0,n.jsx)("div",{className:"flex justify-end mb-2",children:(0,n.jsx)("button",{onClick:()=>c(!o),className:"px-4 py-2 rounded-md text-sm font-medium border ".concat(o?"bg-black text-white border-black":"bg-white text-neutral-700 border-neutral-300"),children:o?"Exit Investor Mode":"Investor Summary Mode"})}),o?(0,n.jsx)(()=>(0,n.jsxs)("section",{id:"investor-summary-print",className:"jsx-bd115bf26cc1ae79 bg-neutral-900 text-white rounded-xl p-10 space-y-10",children:[(0,n.jsxs)("div",{className:"jsx-bd115bf26cc1ae79 flex items-center justify-between gap-4",children:[(0,n.jsx)("h2",{className:"jsx-bd115bf26cc1ae79 text-2xl font-semibold",children:"Investor Summary"}),(0,n.jsx)("button",{onClick:()=>window.print(),className:"jsx-bd115bf26cc1ae79 bg-white text-black px-5 py-2 rounded-md text-sm font-medium print:hidden",children:"Download Investor Summary (PDF)"}),(0,n.jsx)("button",{onClick:ee,className:"jsx-bd115bf26cc1ae79 bg-white text-black px-5 py-2 rounded-md text-sm font-medium print:hidden",children:"Export Full Board Deck"})]}),(0,n.jsxs)("div",{className:"jsx-bd115bf26cc1ae79 grid md:grid-cols-3 gap-8",children:[(0,n.jsx)(R,{label:(0,n.jsxs)(n.Fragment,{children:["Final Year ",l.ARR()]}),value:s(Z.finalYearARR)}),(0,n.jsx)(R,{label:(0,n.jsxs)(n.Fragment,{children:[l.ARR()," CAGR"]}),value:i(100*Z.arrCagr)}),(0,n.jsx)(R,{label:"Net Revenue Retention",value:i(Z.netRevenueRetentionPct)}),(0,n.jsx)(R,{label:"Gross Margin",value:i(_)}),(0,n.jsx)(R,{label:(0,n.jsxs)(n.Fragment,{children:["Final Year ",l.EBITDA()]}),value:s(Z.finalYearSaasEbitda)}),(0,n.jsx)(R,{label:(0,n.jsxs)(n.Fragment,{children:[l.EBITDA()," Margin"]}),value:i(Z.saasEbitdaMarginPct)}),(0,n.jsx)(R,{label:l.IRR(),value:null!==Z.irr?i(100*Z.irr):"N/A"}),(0,n.jsx)(R,{label:(0,n.jsxs)(n.Fragment,{children:[Z.safeProjectionYears,"-Year ",l.NPV()]}),value:s(Z.npv)}),(0,n.jsx)(R,{label:"Payback Period",value:Z.paybackYear?"".concat(Z.paybackYear," yrs"):"N/A"}),(0,n.jsx)(R,{label:(0,n.jsxs)(n.Fragment,{children:[l.ARR()," Valuation"]}),value:s(Z.arrValuationImpact)}),(0,n.jsx)(R,{label:(0,n.jsxs)(n.Fragment,{children:[l.EBITDA()," Valuation"]}),value:s(Z.ebitdaValuationImpact)}),(0,n.jsx)(R,{label:"Rule of 40",value:i(Z.ruleOf40Pct)})]}),(0,n.jsx)(v(),{id:"bd115bf26cc1ae79",children:"@media print{body *{visibility:hidden}#investor-summary-print,#investor-summary-print *{visibility:visible}#investor-summary-print{position:absolute;left:0;top:0;width:100%;background:white!important;color:black!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;border-radius:0!important;padding:24px!important}}"})]}),{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"Enterprise Deployment, Sensitivity & Payback Model"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("div",{className:"text-sm font-semibold text-neutral-700",children:"Sensitivity"}),(0,n.jsx)("div",{className:"flex gap-2 flex-wrap",children:["low","base","high"].map(e=>(0,n.jsx)("button",{type:"button",onClick:()=>m(e),className:"px-4 py-2 rounded-md text-sm font-medium border ".concat(u===e?"bg-black text-white border-black":"bg-white text-neutral-700 border-neutral-300"),children:e.toUpperCase()},e))})]}),(0,n.jsxs)("div",{className:"space-y-3 border-t border-neutral-200 pt-6",children:[(0,n.jsxs)("div",{className:"text-sm font-semibold text-neutral-700",children:[l.ARR()," Capture Band"]}),(0,n.jsx)("div",{className:"flex gap-2 flex-wrap",children:["low","base","high"].map(e=>(0,n.jsxs)("button",{type:"button",onClick:()=>h(e),className:"px-4 py-2 rounded-md text-sm font-medium border ".concat(x===e?"bg-black text-white border-black":"bg-white text-neutral-700 border-neutral-300"),children:[e.toUpperCase()," Capture"]},e))})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-6 space-y-6",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-neutral-700",children:"Net Revenue Retention Assumptions"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,n.jsx)(y,{label:"Gross Churn (%)",value:U,onChange:G}),(0,n.jsx)(y,{label:"Expansion (%)",value:z,onChange:$}),(0,n.jsx)(w,{title:"Net Revenue Retention",value:i(Z.netRevenueRetentionPct)})]})]}),(0,n.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 border-t border-neutral-200 pt-6",children:[(0,n.jsx)(y,{label:"Total Facilities",value:b,onChange:p}),(0,n.jsx)(y,{label:"Deployment Duration (Years)",value:g,onChange:P}),(0,n.jsx)(y,{label:"Projection Horizon (Years)",value:M,onChange:S}),(0,n.jsx)(y,{label:"Discount Rate (%)",value:A,onChange:F}),(0,n.jsx)(y,{label:(0,n.jsxs)(n.Fragment,{children:[l.EBITDA()," Valuation Multiple"]}),value:k,onChange:E}),(0,n.jsx)(y,{label:(0,n.jsxs)(n.Fragment,{children:[l.ARR()," Valuation Multiple"]}),value:I,onChange:T})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-6 space-y-6",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-neutral-700",children:"Capital & Operating Assumptions (Per Facility)"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,n.jsx)(y,{label:"Hardware Cost (One-Time)",value:L,onChange:D}),(0,n.jsx)(y,{label:"Implementation Cost (One-Time)",value:B,onChange:Y}),(0,n.jsx)(y,{label:"Annual Subscription Cost",value:O,onChange:V})]})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-6 space-y-6",children:[(0,n.jsxs)("h3",{className:"text-sm font-semibold text-neutral-700",children:[l.SaaS()," Operating Assumptions"]}),(0,n.jsxs)("div",{className:"grid md:grid-cols-4 gap-6",children:[(0,n.jsx)(y,{label:"Gross Margin (%)",value:_,onChange:Q}),(0,n.jsx)(y,{label:"Sales & Marketing (%)",value:H,onChange:q}),(0,n.jsx)(y,{label:(0,n.jsxs)(n.Fragment,{children:[l.RD()," (%)"]}),value:W,onChange:J}),(0,n.jsx)(y,{label:(0,n.jsxs)(n.Fragment,{children:[l.GA()," (%)"]}),value:K,onChange:X})]})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-6 grid md:grid-cols-3 gap-6",children:[(0,n.jsx)(w,{title:(0,n.jsxs)(n.Fragment,{children:["Annual Portfolio ",l.EBITDA()," Lift"]}),value:s(Z.annualPortfolioImpact)}),(0,n.jsx)(w,{title:"Portfolio Margin Improvement",value:i(Z.portfolioMarginLiftPct)}),(0,n.jsx)(w,{title:(0,n.jsxs)(n.Fragment,{children:[Z.safeProjectionYears,"-Year Gross ",l.EBITDA()," Lift"]}),value:s(Z.cumulativeImpact)})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-6 grid md:grid-cols-3 gap-6",children:[(0,n.jsx)(w,{title:"Cumulative Net Benefit",value:s(Z.cumulativeNet)}),(0,n.jsx)(w,{title:"Payback Period",value:Z.paybackYear?"".concat(Z.paybackYear," Year(s)"):"Beyond Projection"}),(0,n.jsx)(w,{title:(0,n.jsxs)(n.Fragment,{children:[l.ROI()," Multiple"]}),value:"".concat(Z.roiMultiple.toFixed(2),"\xd7")})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-6 grid md:grid-cols-3 gap-6",children:[(0,n.jsx)(w,{title:"Net Present Value",value:s(Z.npv)}),(0,n.jsx)(w,{title:"Internal Rate of Return",value:null!==Z.irr?i(100*Z.irr):"N/A"}),(0,n.jsx)(w,{title:"Discount Rate",value:i(A)})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-8",children:[(0,n.jsxs)("h3",{className:"text-sm font-semibold text-neutral-700 mb-4",children:[l.ARR()," Ramp (",l.NRR()," + Capture)"]}),(0,n.jsx)("div",{className:"space-y-2 text-sm",children:Z.arrByYear.map((e,t)=>(0,n.jsxs)("div",{className:"flex justify-between border-b border-neutral-100 pb-2",children:[(0,n.jsxs)("span",{children:["Year ",t+1]}),(0,n.jsx)("span",{children:s(e)})]},t))})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-6 grid md:grid-cols-4 gap-6",children:[(0,n.jsx)(w,{title:(0,n.jsxs)(n.Fragment,{children:["Final Year ",l.ARR()]}),value:s(Z.finalYearARR)}),(0,n.jsx)(w,{title:(0,n.jsxs)(n.Fragment,{children:[l.ARR()," Multiple"]}),value:"".concat(I,"\xd7")}),(0,n.jsx)(w,{title:(0,n.jsxs)(n.Fragment,{children:["Implied ",l.ARR()," Valuation"]}),value:s(Z.arrValuationImpact)}),(0,n.jsx)(w,{title:(0,n.jsxs)(n.Fragment,{children:["Per-Facility ",l.LTV()," (Approx.)"]}),value:Z.ltvPerFacility?s(Z.ltvPerFacility):"N/A"})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-8",children:[(0,n.jsxs)("h3",{className:"text-sm font-semibold text-neutral-700 mb-4",children:[l.SaaS()," ",l.EBITDA()," Projection"]}),(0,n.jsx)("div",{className:"space-y-2 text-sm mb-6",children:Z.saasEbitdaByYear.map((e,t)=>(0,n.jsxs)("div",{className:"flex justify-between border-b border-neutral-100 pb-2",children:[(0,n.jsxs)("span",{children:["Year ",t+1]}),(0,n.jsx)("span",{children:s(e)})]},t))}),(0,n.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,n.jsx)(w,{title:(0,n.jsxs)(n.Fragment,{children:["Final Year ",l.SaaS()," ",l.EBITDA()]}),value:s(Z.finalYearSaasEbitda)}),(0,n.jsx)(w,{title:(0,n.jsxs)(n.Fragment,{children:[l.EBITDA()," Margin"]}),value:i(Z.saasEbitdaMarginPct)}),(0,n.jsx)(w,{title:(0,n.jsxs)(n.Fragment,{children:[l.EBITDA()," Valuation Impact"]}),value:s(Z.ebitdaValuationImpact)})]})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-8",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-neutral-700 mb-4",children:"Cohort Expansion View"}),(0,n.jsx)("div",{className:"space-y-2 text-sm",children:Z.cohortFinalYearContributions.map((e,t)=>(0,n.jsxs)("div",{className:"flex justify-between border-b border-neutral-100 pb-2",children:[(0,n.jsx)("span",{children:e.label}),(0,n.jsx)("span",{children:s(e.value)})]},t))})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-8",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-neutral-700 mb-4",children:"Scenario Comparison"}),(0,n.jsx)("div",{className:"grid md:grid-cols-3 gap-6 text-sm",children:Z.scenarios.map(e=>{let a=t*e.multiplier*b;return(0,n.jsxs)("div",{className:"border border-neutral-200 rounded-md p-4",children:[(0,n.jsxs)("div",{className:"text-neutral-500 mb-2",children:[e.name," Case"]}),(0,n.jsx)("div",{className:"text-lg font-semibold",children:s(a)}),(0,n.jsxs)("div",{className:"text-neutral-500 mt-1",children:["Annual Portfolio ",l.EBITDA()," Lift"]})]},e.name)})})]})]})]})}let M={annualTonsProcessed:25e3,avgMaterialCostPerTon:850,annualFabricationRevenue:4e7,annualFabricationLaborCost:6e6,incrementalContributionMarginPct:20,currentScrapRatePct:8,targetScrapRatePct:6.5,preventableReworkLaborPct:4,reworkReductionPct:40,throughputImprovementPct:2,includeOversightRisk:!0,annualQALaborCost:5e5,annualMajorErrorCost:25e4,errorReductionPct:30};function S(){let[e,t]=(0,r.useState)(M),[a,s]=(0,r.useState)(null),[i,o]=(0,r.useState)(!1),[u,m]=(0,r.useState)(""),x=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(!a||!x.current)return;o(!1);let e=window.matchMedia("(prefers-reduced-motion: reduce)").matches,t=window.scrollY,n=Math.max(0,x.current.getBoundingClientRect().top+window.scrollY-.35*window.innerHeight);if(e){window.scrollTo({top:n,behavior:"auto"}),o(!0);return}let r=window.setTimeout(()=>{o(!0)},0),l=0,s=performance.now(),i=e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,c=e=>{let a=Math.min((e-s)/2500,1),r=i(a);window.scrollTo(0,t+(n-t)*r),a<1?l=window.requestAnimationFrame(c):o(!0)};return l=window.requestAnimationFrame(c),()=>{l&&window.cancelAnimationFrame(l),window.clearTimeout(r)}},[a]),(0,n.jsxs)("div",{className:"space-y-12",children:[(0,n.jsx)("section",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-medium",children:"Execution errors quietly erode margin."}),(0,n.jsxs)("p",{className:"mt-2 text-sm text-neutral-600",children:["This model estimates ",(0,n.jsx)(d,{acronym:"EBITDA",caption:"Earnings Before Interest, Taxes, Depreciation, and Amortization"})," impact from material efficiency, labor efficiency, throughput capacity, and oversight risk reduction."]})]}),(0,n.jsxs)("div",{className:"rounded-lg border border-neutral-200 p-4 text-sm min-w-56",children:[(0,n.jsx)("div",{className:"text-neutral-500",children:"Signal"}),(0,n.jsx)("div",{className:"font-semibold mt-1",children:"A 1% scrap shift can materially impact EBITDA."})]})]})}),(0,n.jsx)(c,{inputs:e,setInputs:t}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)("button",{onClick:function(){try{s(function(e){!function(e){for(let t of["annualTonsProcessed","avgMaterialCostPerTon","annualFabricationRevenue","annualFabricationLaborCost","incrementalContributionMarginPct","currentScrapRatePct","targetScrapRatePct","preventableReworkLaborPct","reworkReductionPct","throughputImprovementPct","includeOversightRisk"])if("number"!=typeof e[t]&&"boolean"!=typeof e[t])throw Error("Missing or invalid input: ".concat(t));if(e.annualTonsProcessed<0)throw Error("annualTonsProcessed must be >= 0");if(e.avgMaterialCostPerTon<0)throw Error("avgMaterialCostPerTon must be >= 0");if(e.annualFabricationRevenue<0)throw Error("annualFabricationRevenue must be >= 0");if(e.annualFabricationLaborCost<0)throw Error("annualFabricationLaborCost must be >= 0");if(e.includeOversightRisk)for(let t of["annualQALaborCost","annualMajorErrorCost","errorReductionPct"]){if("number"!=typeof e[t])throw Error("Missing oversight/risk input: ".concat(t));if(e[t]<0)throw Error("".concat(t," must be >= 0"))}}(e);let t=l(e.currentScrapRatePct,0,100),a=l(e.targetScrapRatePct,0,100),n=l(e.preventableReworkLaborPct,0,100),r=l(e.reworkReductionPct,0,100),s=l(e.throughputImprovementPct,0,100),i=l(e.incrementalContributionMarginPct,0,100),o=Math.max(0,e.annualTonsProcessed)/25e3,c=e.annualTonsProcessed*(Math.max(0,t-a)/100),d=c*e.avgMaterialCostPerTon,u=e.annualFabricationLaborCost*o*(n/100)*(r/100),m=e.annualFabricationRevenue*o,x=s/100*m,h=i/100*x,b=0;if(e.includeOversightRisk){let t=l(e.errorReductionPct,0,100);b=e.annualQALaborCost*o*(t/100)+e.annualMajorErrorCost*o*(t/100)}let p=d+u+h+b;return{material:{tonsSaved:c,dollarsSaved:d},labor:{dollarsSaved:u},throughput:{incrementalRevenue:x,ebitdaContribution:h},oversightRisk:{dollarsSaved:b},totals:{annualEbitdaIncrease:p,ebitdaMarginImprovementPct:m>0?p/m*100:0},pricing:{lowFrictionAnnual:.08*p,baseAnnual:.12*p,aggressiveAnnual:.15*p}}}(e)),m("")}catch(e){m((null==e?void 0:e.message)||"Unable to compute model."),s(null)}},className:"bg-black text-white px-6 py-3 rounded-md text-sm font-medium hover:bg-neutral-800 transition",children:"Calculate Margin Impact"})}),u&&(0,n.jsx)("p",{className:"text-sm text-red-600 text-center",children:u}),a&&(0,n.jsxs)("div",{ref:x,className:"space-y-12",children:[(0,n.jsx)("div",{className:"overflow-hidden transition-all duration-[2500ms] ease-out ".concat(i?"max-h-[1200px] translate-y-0 opacity-100":"max-h-0 translate-y-6 opacity-0"),children:(0,n.jsx)(p,{results:a})}),(0,n.jsx)(P,{perFacilityEbitdaIncrease:a.totals.annualEbitdaIncrease,perFacilityRevenue:e.annualFabricationRevenue})]})]})}},3734:function(e,t,a){"use strict";a.d(t,{$:function(){return l},C:function(){return n},n:function(){return r}});let n={bg:"#070b12",bgDeep:"#0d1520",card:"#111d2c",line:"#1e3048",lineLt:"#263d5a",muted:"#8aa8c8",txt:"#e4edf8",accent:"#2e7deb",accent2:"#6fb0ff",green:"#38E18E",amber:"#f59e0b"},r="Inter, system-ui, sans-serif",l="ui-monospace, SFMono-Regular, Menlo, Consolas, monospace"}},function(e){e.O(0,[235,83,971,23,744],function(){return e(e.s=4792)}),_N_E=e.O()}]);