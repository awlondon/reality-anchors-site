(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[368],{3982:function(e,t,a){Promise.resolve().then(a.bind(a,9633))},9633:function(e,t,a){"use strict";a.d(t,{default:function(){return S}});var n=a(7437),r=a(2265),l=a(1409),s=a(3604);function i(e){let{label:t,value:a,onChange:r}=e;return(0,n.jsxs)("label",{className:"block",children:[(0,n.jsx)("span",{className:"block text-sm text-neutral-600 mb-2",children:t}),(0,n.jsx)("input",{type:"number",value:a,onChange:e=>r(Number(e.target.value)),className:"w-full border border-neutral-300 rounded-md px-3 py-2 text-sm"})]})}function o(e){let{inputs:t,setInputs:a}=e,r=(e,n)=>a({...t,[e]:n});return(0,n.jsxs)("div",{className:"space-y-10",children:[(0,n.jsxs)("section",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6",children:[(0,n.jsx)("h2",{className:"text-lg font-medium mb-6",children:"Facility Profile"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsx)(i,{label:"Annual Tons Processed",value:t.annualTonsProcessed,onChange:e=>r("annualTonsProcessed",e)}),(0,n.jsx)(i,{label:"Avg Material Cost per Ton ($)",value:t.avgMaterialCostPerTon,onChange:e=>r("avgMaterialCostPerTon",e)}),(0,n.jsx)(i,{label:"Annual Revenue ($)",value:t.annualFabricationRevenue,onChange:e=>r("annualFabricationRevenue",e)}),(0,n.jsx)(i,{label:"Annual Fabrication Labor Cost ($)",value:t.annualFabricationLaborCost,onChange:e=>r("annualFabricationLaborCost",e)}),(0,n.jsx)(i,{label:"Contribution Margin (%)",value:t.incrementalContributionMarginPct,onChange:e=>r("incrementalContributionMarginPct",e)})]})]}),(0,n.jsxs)("section",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6",children:[(0,n.jsx)("h2",{className:"text-lg font-medium mb-6",children:"Impact Assumptions"}),(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-neutral-700 mb-3",children:"Material Efficiency"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsx)(i,{label:"Current Scrap Rate (%)",value:t.currentScrapRatePct,onChange:e=>r("currentScrapRatePct",e)}),(0,n.jsx)(i,{label:"Target Scrap Rate (%)",value:t.targetScrapRatePct,onChange:e=>r("targetScrapRatePct",e)})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-neutral-700 mb-3",children:"Labor Rework"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsx)(i,{label:"Preventable Rework (% of labor)",value:t.preventableReworkLaborPct,onChange:e=>r("preventableReworkLaborPct",e)}),(0,n.jsx)(i,{label:"Rework Reduction (%)",value:t.reworkReductionPct,onChange:e=>r("reworkReductionPct",e)})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-neutral-700 mb-3",children:"Throughput Capacity"}),(0,n.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:(0,n.jsx)(i,{label:"Throughput Improvement (%)",value:t.throughputImprovementPct,onChange:e=>r("throughputImprovementPct",e)})})]}),(0,n.jsxs)("details",{className:"border border-neutral-200 rounded-lg p-4",open:t.includeOversightRisk,children:[(0,n.jsx)("summary",{className:"cursor-pointer text-sm font-semibold text-neutral-700",children:"Include Oversight & Risk Model"}),(0,n.jsxs)("div",{className:"mt-4 grid md:grid-cols-2 gap-6",children:[(0,n.jsx)(i,{label:"Annual QA / Inspection Cost ($)",value:t.annualQALaborCost,onChange:e=>r("annualQALaborCost",e)}),(0,n.jsx)(i,{label:"Annual Major Error Cost ($)",value:t.annualMajorErrorCost,onChange:e=>r("annualMajorErrorCost",e)}),(0,n.jsx)(i,{label:"Error Reduction (%)",value:t.errorReductionPct,onChange:e=>r("errorReductionPct",e)}),(0,n.jsxs)("label",{className:"flex items-end gap-2 text-sm text-neutral-700",children:[(0,n.jsx)("input",{type:"checkbox",checked:t.includeOversightRisk,onChange:e=>r("includeOversightRisk",e.target.checked)}),"Enable oversight/risk contribution"]})]})]})]})]})]})}function c(e){let{acronym:t,caption:a}=e,[l,s]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),c=l||i;return(0,n.jsxs)("span",{className:"relative inline-flex items-center align-baseline",children:[(0,n.jsx)("button",{type:"button",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onFocus:()=>s(!0),onBlur:()=>s(!1),onClick:()=>o(e=>!e),className:"inline-flex items-center rounded px-1 text-inherit decoration-dotted underline-offset-2 transition-colors hover:bg-neutral-100 hover:text-neutral-900 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400","aria-expanded":c,"aria-label":"".concat(t,": ").concat(a),children:t}),c?(0,n.jsx)("span",{className:"absolute left-0 top-full z-20 mt-1 w-64 rounded-md border border-neutral-700 bg-neutral-900 px-3 py-2 text-left text-[11px] font-normal normal-case tracking-normal text-white shadow-lg",children:a}):null]})}var d=a(4501),u=a(9235),m=a(3734);function x(e){let{segments:t,total:a,ariaLabel:r,className:l,prefix:s="$"}=e,i=(0,d.J)(),o=e=>e>=1e6?"".concat(s).concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat(s).concat((e/1e3).toFixed(0),"k"):"".concat(s).concat(e.toFixed(0)),c=12,x=t.filter(e=>e.value>0).map(e=>{let t=a>0?e.value/a*536:0,n={...e,x:c,w:t};return c+=t,n});return(0,n.jsx)("div",{className:l,children:(0,n.jsxs)("svg",{viewBox:"0 0 ".concat(560," ").concat(100),className:"w-full h-auto",role:"img","aria-label":r,children:[(0,n.jsx)("title",{children:r}),(0,n.jsx)("rect",{x:12,y:10,width:536,height:32,rx:6,fill:m.C.line,opacity:"0.3"}),x.map((e,t)=>{let a=0===t,r=t===x.length-1,l=a||r?6:0;return i?(0,n.jsxs)("g",{children:[(0,n.jsx)("rect",{x:e.x+(a?0:.5),y:10,width:Math.max(0,e.w-(a||r?0:1)),height:32,rx:l,fill:e.color,opacity:"0.8"}),(0,n.jsx)("text",{x:e.x+e.w/2,y:58,textAnchor:"middle",fill:m.C.muted,fontSize:"8",fontFamily:m.n,children:e.label}),e.w>50&&(0,n.jsx)("text",{x:e.x+e.w/2,y:30,textAnchor:"middle",fill:m.C.txt,fontSize:"9",fontFamily:m.$,fontWeight:"600",children:o(e.value)})]},t):(0,n.jsxs)("g",{children:[(0,n.jsx)(u.E.rect,{x:e.x+(a?0:.5),y:10,height:32,rx:l,fill:e.color,opacity:"0.8",initial:{width:0},animate:{width:Math.max(0,e.w-(a||r?0:1))},transition:{type:"spring",stiffness:100,damping:20,delay:.08*t}}),(0,n.jsx)("text",{x:e.x+e.w/2,y:58,textAnchor:"middle",fill:m.C.muted,fontSize:"8",fontFamily:m.n,children:e.label}),e.w>50&&(0,n.jsx)(u.E.text,{x:e.x+e.w/2,y:30,textAnchor:"middle",fill:m.C.txt,fontSize:"9",fontFamily:m.$,fontWeight:"600",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.08*t+.3},children:o(e.value)})]},t)}),(0,n.jsxs)("text",{x:548,y:58,textAnchor:"end",fill:m.C.txt,fontSize:"10",fontFamily:m.$,fontWeight:"600",children:["Total: ",o(a)]})]})})}function h(e){let{title:t,value:a}=e;return(0,n.jsxs)("div",{className:"rounded-md border border-neutral-700 p-4",children:[(0,n.jsx)("div",{className:"text-neutral-400 text-xs mb-1",children:t}),(0,n.jsx)("div",{className:"text-base font-semibold",children:a})]})}function b(e){let{results:t}=e,a=(0,r.useRef)(null),[s,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=a.current;if(!e)return;let t=new IntersectionObserver(e=>{let[a]=e;a.isIntersecting&&(i(!0),t.disconnect())},{threshold:.25});return t.observe(e),()=>{t.disconnect()}},[]),(0,n.jsxs)("section",{className:"bg-neutral-900 text-white rounded-xl p-8 space-y-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h2",{className:"text-xl font-semibold mb-6",children:["Annual ",(0,n.jsx)(c,{acronym:"EBITDA",caption:"Earnings Before Interest, Taxes, Depreciation, and Amortization"})," Impact"]}),(0,n.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 text-sm",children:[(0,n.jsx)(h,{title:"Material Savings",value:(0,l.ZP)(t.material.dollarsSaved)}),(0,n.jsx)(h,{title:"Labor Savings",value:(0,l.ZP)(t.labor.dollarsSaved)}),(0,n.jsx)(h,{title:"Throughput Contribution",value:(0,l.ZP)(t.throughput.ebitdaContribution)}),(0,n.jsx)(h,{title:"Oversight / Risk",value:(0,l.ZP)(t.oversightRisk.dollarsSaved)})]})]}),(0,n.jsx)(x,{ariaLabel:"EBITDA impact composition breakdown",segments:[{label:"Material",value:t.material.dollarsSaved,color:"#2e7deb"},{label:"Labor",value:t.labor.dollarsSaved,color:"#6fb0ff"},{label:"Throughput",value:t.throughput.ebitdaContribution,color:"#38E18E"},{label:"Oversight",value:t.oversightRisk.dollarsSaved,color:"#f59e0b"}],total:t.totals.annualEbitdaIncrease}),(0,n.jsxs)("div",{ref:a,className:"border-t border-neutral-700 pt-6 transition-all duration-500 ease-out ".concat(s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),children:[(0,n.jsx)("div",{className:"text-3xl font-semibold",children:(0,l.ZP)(t.totals.annualEbitdaIncrease)}),(0,n.jsxs)("div",{className:"text-neutral-400 mt-2",children:["EBITDA Margin Improvement: +",(0,l.at)(t.totals.ebitdaMarginImprovementPct)]})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-700 pt-6 text-sm text-neutral-300",children:[(0,n.jsx)("div",{className:"font-medium mb-3",children:"Execution Infrastructure Investment Range"}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"Low Friction"}),(0,n.jsxs)("span",{children:[(0,l.ZP)(t.pricing.lowFrictionAnnual)," / year"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"Base"}),(0,n.jsxs)("span",{children:[(0,l.ZP)(t.pricing.baseAnnual)," / year"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"Full Deployment"}),(0,n.jsxs)("span",{children:[(0,l.ZP)(t.pricing.aggressiveAnnual)," / year"]})]})]})]})}var p=a(8059),g=a.n(p);function v(e,t){return t.reduce((t,a,n)=>t+a/Math.pow(1+e,n),0)}function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,a=t;for(let t=0;t<1e3;t++){let t=0,n=0;for(let r=0;r<e.length;r++)t+=e[r]/Math.pow(1+a,r),n-=r*e[r]/Math.pow(1+a,r+1);if(1e-7>Math.abs(n))break;let r=a-t/n;if(!Number.isFinite(r)||r<=-.9999)break;if(1e-7>Math.abs(r-a))return r;a=r}for(let t=-.9;t<=1.5;t+=.01)if(.001>Math.abs(v(t,e)))return t;return null}function f(e){let{label:t,value:a,onChange:r}=e;return(0,n.jsxs)("label",{className:"block",children:[(0,n.jsx)("span",{className:"block text-sm text-neutral-600 mb-2",children:t}),(0,n.jsx)("input",{type:"number",value:a,onChange:e=>r(Number(e.target.value)),className:"w-full border border-neutral-300 rounded-md px-3 py-2 text-sm"})]})}function y(e){let{title:t,value:a}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm text-neutral-500",children:t}),(0,n.jsx)("div",{className:"text-lg font-semibold mt-1",children:a})]})}function R(e){let{label:t,value:a}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-neutral-400 text-xs uppercase tracking-wide",children:t}),(0,n.jsx)("div",{className:"text-xl font-semibold mt-2",children:a})]})}let w={low:.75,base:1,high:1.35},N={low:.08,base:.12,high:.15};function P(e){let{perFacilityEbitdaIncrease:t,perFacilityRevenue:a}=e,s={EBITDA:()=>(0,n.jsx)(c,{acronym:"EBITDA",caption:"Earnings Before Interest, Taxes, Depreciation, and Amortization"}),ARR:()=>(0,n.jsx)(c,{acronym:"ARR",caption:"Annual Recurring Revenue"}),NRR:()=>(0,n.jsx)(c,{acronym:"NRR",caption:"Net Revenue Retention"}),LTV:()=>(0,n.jsx)(c,{acronym:"LTV",caption:"Lifetime Value"}),ROI:()=>(0,n.jsx)(c,{acronym:"ROI",caption:"Return on Investment"}),NPV:()=>(0,n.jsx)(c,{acronym:"NPV",caption:"Net Present Value"}),IRR:()=>(0,n.jsx)(c,{acronym:"IRR",caption:"Internal Rate of Return"}),SaaS:()=>(0,n.jsx)(c,{acronym:"SaaS",caption:"Software as a Service"}),RD:()=>(0,n.jsx)(c,{acronym:"R&D",caption:"Research and Development"}),GA:()=>(0,n.jsx)(c,{acronym:"G&A",caption:"General and Administrative"})},[i,o]=(0,r.useState)(!1),[d,u]=(0,r.useState)("base"),[m,x]=(0,r.useState)("base"),[h,b]=(0,r.useState)(100),[p,P]=(0,r.useState)(3),[C,S]=(0,r.useState)(5),[M,A]=(0,r.useState)(10),[k,F]=(0,r.useState)(8),[E,I]=(0,r.useState)(8),[T,L]=(0,r.useState)(8e3),[D,B]=(0,r.useState)(12e3),[Y,O]=(0,r.useState)(7e4),[V,Z]=(0,r.useState)(5),[U,G]=(0,r.useState)(12),[z,_]=(0,r.useState)(80),[$,Q]=(0,r.useState)(25),[H,J]=(0,r.useState)(18),[q,W]=(0,r.useState)(12),K=(0,r.useMemo)(()=>{let e=Math.max(1,p),n=Math.max(1,C),r=h/e,l=w[d],s=N[m],i=t*l,o=Math.max(0,V/100),c=Math.max(0,1-o+Math.max(0,U/100)),u=Math.max(0,z/100),x=Math.max(0,$/100),b=Math.max(0,H/100),g=Math.max(0,q/100),f=0,y=0,R=0,P=null,S=[0],A=[],F=[],I=[];for(let t=1;t<=n;t++){let a=t<=e?r*t:h,n=t<=e?r:0,l=a*i,o=n*(T+D),d=a*Y,m=l-o-d;f+=l,y+=o+d,R+=m,S.push(m),null===P&&R>0&&(P=t),n>0&&I.push({yearStarted:t,facilities:n,arrPerFacility:i*s});let p=0;I.forEach(e=>{let a=Math.pow(c,t-e.yearStarted),n=e.facilities*e.arrPerFacility*a;p+=n}),A.push(p);let v=p*u,j=p*(x+b+g);F.push(v-j)}let L=i*h,B=a*h,O=y>0?R/y:0,Z=v(Math.max(0,M/100),S),G=j(S),_=A[0]||0,Q=A[A.length-1]||0,J=n>1&&_>0?Math.pow(Q/_,1/(n-1))-1:0,W=F[F.length-1]||0,K=Q>0?W/Q*100:0,X=Q*E,ee=W*k,et=o>0&&I.length>0?I[0].arrPerFacility*u/o:null,ea=I.map(e=>{let t=n-e.yearStarted;return{label:"Cohort Year ".concat(e.yearStarted),value:e.facilities*e.arrPerFacility*Math.pow(c,t)}});function en(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t*a*r,o=[],d=[],m=[],p=[0],f=Math.max(1,Math.ceil(e*l)),y=h/f,R=0,w=null;for(let e=1;e<=n;e++){let t=e<=f?y*e:h,a=e<=f?y:0,n=t*i-a*(T+D)-t*Y;R+=n,p.push(n),null===w&&R>0&&(w=e),a>0&&o.push({yearStarted:e,facilities:a,arrPerFacility:i*s});let r=0;for(let t of o){let a=e-t.yearStarted;r+=t.facilities*t.arrPerFacility*Math.pow(c,a)}d.push(r);let l=r*u,v=r*(x+b+g);m.push(l-v)}let N=d[0]||0,P=d[d.length-1]||0,C=n>1&&N>0?Math.pow(P/N,1/(n-1))-1:0,S=m[m.length-1]||0,A=P>0?S/P*100:0,F=j(p);return{finalARR:P,arrCAGR:C,netRevenueRetentionPct:100*c,ebitdaMarginPct:A,irrPct:null!==F?100*F:0,npv:v(Math.max(0,M/100),p),paybackYear:w,arrValuationImpact:P*E,ebitdaValuation:S*k,ruleOf40Pct:100*C+A}}return{safeProjectionYears:n,cumulativeImpact:f,cumulativeNet:R,paybackYear:P,roiMultiple:O,annualPortfolioImpact:L,portfolioMarginLiftPct:B>0?L/B*100:0,npv:Z,irr:G,arrByYear:A,saasEbitdaByYear:F,finalYearARR:Q,arrCagr:J,arrValuationImpact:X,netRevenueRetentionPct:100*c,finalYearSaasEbitda:W,saasEbitdaMarginPct:K,ebitdaValuationImpact:ee,ruleOf40Pct:100*J+K,ltvPerFacility:et,cohortFinalYearContributions:ea,scenarios:[{name:"Low",multiplier:w.low},{name:"Base",multiplier:w.base},{name:"High",multiplier:w.high}],annualNetCashFlows:S.slice(1),scenarioSnapshots:{low:en(w.low),base:en(w.base),high:en(w.high)},downsideSnapshot:en(w.base,.8,1.25)}},[Y,E,m,p,M,U,q,V,z,T,D,t,a,C,H,$,d,h,k]);async function X(){try{let e={meta:{companyName:"Reality Anchors",docTitle:"Board Brief",schemaVersion:"1.0.0",confidentialityLine:"Confidential â€” Board Use Only",baseUrl:window.location.origin,logoPath:"/ra-logo.png"},customerEconomics:{materialSaved:.45*t,laborSaved:.2*t,throughput:.25*t,oversight:.1*t,totalEbitda:t,marginDeltaPct:a>0?t/a*100:0,pricingLow:.08*t,pricingBase:.12*t,pricingHigh:.15*t},ramp:{totalFacilities:h,deploymentYears:p,projectionYears:K.safeProjectionYears,annualNetCashFlows:K.annualNetCashFlows,paybackYear:K.paybackYear,npv:K.npv,irr:K.irr},saasEconomics:{finalARR:K.finalYearARR,arrCAGR:K.arrCagr,nrrPct:K.netRevenueRetentionPct,grossMarginPct:z,finalEbitda:K.finalYearSaasEbitda,ebitdaMarginPct:K.saasEbitdaMarginPct,arrValuation:K.arrValuationImpact,ebitdaValuation:K.ebitdaValuationImpact},scenarios:K.scenarioSnapshots,downsideScenario:K.downsideSnapshot,evidenceTags:{totalEbitda:"Estimated",npv:"Modeled",irr:"Modeled",arrCAGR:"Modeled",netRevenueRetention:"Assumed",ebitdaMargin:"Modeled"}},n=await fetch("/api/export-board-deck",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){let e="Unable to export board deck.";try{let t=await n.json();if(e=(null==t?void 0:t.message)||e,(null==t?void 0:t.error)==="PDF_ENGINE_UNAVAILABLE"&&(null==t?void 0:t.htmlPreview)){let e=window.open("","_blank");e&&(e.document.open(),e.document.write(t.htmlPreview),e.document.close())}}catch(t){e=await n.text()}throw Error(e||"Unable to export board deck.")}let r=await n.blob(),l=window.URL.createObjectURL(r),s=document.createElement("a");s.href=l,s.download="RA-Board-Deck.pdf",s.click(),window.URL.revokeObjectURL(l)}catch(e){window.alert(e instanceof Error?e.message:"Unable to export board deck.")}}return(0,n.jsxs)("section",{className:"bg-white rounded-xl border border-neutral-200 p-8 space-y-8",children:[(0,n.jsx)("div",{className:"flex justify-end mb-2",children:(0,n.jsx)("button",{onClick:()=>o(!i),className:"px-4 py-2 rounded-md text-sm font-medium border ".concat(i?"bg-black text-white border-black":"bg-white text-neutral-700 border-neutral-300"),children:i?"Exit Investor Mode":"Investor Summary Mode"})}),i?(0,n.jsx)(()=>(0,n.jsxs)("section",{id:"investor-summary-print",className:"jsx-bd115bf26cc1ae79 bg-neutral-900 text-white rounded-xl p-10 space-y-10",children:[(0,n.jsxs)("div",{className:"jsx-bd115bf26cc1ae79 flex items-center justify-between gap-4",children:[(0,n.jsx)("h2",{className:"jsx-bd115bf26cc1ae79 text-2xl font-semibold",children:"Investor Summary"}),(0,n.jsx)("button",{onClick:()=>window.print(),className:"jsx-bd115bf26cc1ae79 bg-white text-black px-5 py-2 rounded-md text-sm font-medium print:hidden",children:"Download Investor Summary (PDF)"}),(0,n.jsx)("button",{onClick:X,className:"jsx-bd115bf26cc1ae79 bg-white text-black px-5 py-2 rounded-md text-sm font-medium print:hidden",children:"Export Full Board Deck"})]}),(0,n.jsxs)("div",{className:"jsx-bd115bf26cc1ae79 grid md:grid-cols-3 gap-8",children:[(0,n.jsx)(R,{label:(0,n.jsxs)(n.Fragment,{children:["Final Year ",s.ARR()]}),value:(0,l.ZP)(K.finalYearARR)}),(0,n.jsx)(R,{label:(0,n.jsxs)(n.Fragment,{children:[s.ARR()," CAGR"]}),value:(0,l.at)(100*K.arrCagr)}),(0,n.jsx)(R,{label:"Net Revenue Retention",value:(0,l.at)(K.netRevenueRetentionPct)}),(0,n.jsx)(R,{label:"Gross Margin",value:(0,l.at)(z)}),(0,n.jsx)(R,{label:(0,n.jsxs)(n.Fragment,{children:["Final Year ",s.EBITDA()]}),value:(0,l.ZP)(K.finalYearSaasEbitda)}),(0,n.jsx)(R,{label:(0,n.jsxs)(n.Fragment,{children:[s.EBITDA()," Margin"]}),value:(0,l.at)(K.saasEbitdaMarginPct)}),(0,n.jsx)(R,{label:s.IRR(),value:null!==K.irr?(0,l.at)(100*K.irr):"N/A"}),(0,n.jsx)(R,{label:(0,n.jsxs)(n.Fragment,{children:[K.safeProjectionYears,"-Year ",s.NPV()]}),value:(0,l.ZP)(K.npv)}),(0,n.jsx)(R,{label:"Payback Period",value:K.paybackYear?"".concat(K.paybackYear," yrs"):"N/A"}),(0,n.jsx)(R,{label:(0,n.jsxs)(n.Fragment,{children:[s.ARR()," Valuation"]}),value:(0,l.ZP)(K.arrValuationImpact)}),(0,n.jsx)(R,{label:(0,n.jsxs)(n.Fragment,{children:[s.EBITDA()," Valuation"]}),value:(0,l.ZP)(K.ebitdaValuationImpact)}),(0,n.jsx)(R,{label:"Rule of 40",value:(0,l.at)(K.ruleOf40Pct)})]}),(0,n.jsx)(g(),{id:"bd115bf26cc1ae79",children:"@media print{body *{visibility:hidden}#investor-summary-print,#investor-summary-print *{visibility:visible}#investor-summary-print{position:absolute;left:0;top:0;width:100%;background:white!important;color:black!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;border-radius:0!important;padding:24px!important}}"})]}),{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"Enterprise Deployment, Sensitivity & Payback Model"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("div",{className:"text-sm font-semibold text-neutral-700",children:"Sensitivity"}),(0,n.jsx)("div",{className:"flex gap-2 flex-wrap",children:["low","base","high"].map(e=>(0,n.jsx)("button",{type:"button",onClick:()=>u(e),className:"px-4 py-2 rounded-md text-sm font-medium border ".concat(d===e?"bg-black text-white border-black":"bg-white text-neutral-700 border-neutral-300"),children:e.toUpperCase()},e))})]}),(0,n.jsxs)("div",{className:"space-y-3 border-t border-neutral-200 pt-6",children:[(0,n.jsxs)("div",{className:"text-sm font-semibold text-neutral-700",children:[s.ARR()," Capture Band"]}),(0,n.jsx)("div",{className:"flex gap-2 flex-wrap",children:["low","base","high"].map(e=>(0,n.jsxs)("button",{type:"button",onClick:()=>x(e),className:"px-4 py-2 rounded-md text-sm font-medium border ".concat(m===e?"bg-black text-white border-black":"bg-white text-neutral-700 border-neutral-300"),children:[e.toUpperCase()," Capture"]},e))})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-6 space-y-6",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-neutral-700",children:"Net Revenue Retention Assumptions"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,n.jsx)(f,{label:"Gross Churn (%)",value:V,onChange:Z}),(0,n.jsx)(f,{label:"Expansion (%)",value:U,onChange:G}),(0,n.jsx)(y,{title:"Net Revenue Retention",value:(0,l.at)(K.netRevenueRetentionPct)})]})]}),(0,n.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 border-t border-neutral-200 pt-6",children:[(0,n.jsx)(f,{label:"Total Facilities",value:h,onChange:b}),(0,n.jsx)(f,{label:"Deployment Duration (Years)",value:p,onChange:P}),(0,n.jsx)(f,{label:"Projection Horizon (Years)",value:C,onChange:S}),(0,n.jsx)(f,{label:"Discount Rate (%)",value:M,onChange:A}),(0,n.jsx)(f,{label:(0,n.jsxs)(n.Fragment,{children:[s.EBITDA()," Valuation Multiple"]}),value:k,onChange:F}),(0,n.jsx)(f,{label:(0,n.jsxs)(n.Fragment,{children:[s.ARR()," Valuation Multiple"]}),value:E,onChange:I})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-6 space-y-6",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-neutral-700",children:"Capital & Operating Assumptions (Per Facility)"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,n.jsx)(f,{label:"Hardware Cost (One-Time)",value:T,onChange:L}),(0,n.jsx)(f,{label:"Implementation Cost (One-Time)",value:D,onChange:B}),(0,n.jsx)(f,{label:"Annual Subscription Cost",value:Y,onChange:O})]})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-6 space-y-6",children:[(0,n.jsxs)("h3",{className:"text-sm font-semibold text-neutral-700",children:[s.SaaS()," Operating Assumptions"]}),(0,n.jsxs)("div",{className:"grid md:grid-cols-4 gap-6",children:[(0,n.jsx)(f,{label:"Gross Margin (%)",value:z,onChange:_}),(0,n.jsx)(f,{label:"Sales & Marketing (%)",value:$,onChange:Q}),(0,n.jsx)(f,{label:(0,n.jsxs)(n.Fragment,{children:[s.RD()," (%)"]}),value:H,onChange:J}),(0,n.jsx)(f,{label:(0,n.jsxs)(n.Fragment,{children:[s.GA()," (%)"]}),value:q,onChange:W})]})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-6 grid md:grid-cols-3 gap-6",children:[(0,n.jsx)(y,{title:(0,n.jsxs)(n.Fragment,{children:["Annual Portfolio ",s.EBITDA()," Lift"]}),value:(0,l.ZP)(K.annualPortfolioImpact)}),(0,n.jsx)(y,{title:"Portfolio Margin Improvement",value:(0,l.at)(K.portfolioMarginLiftPct)}),(0,n.jsx)(y,{title:(0,n.jsxs)(n.Fragment,{children:[K.safeProjectionYears,"-Year Gross ",s.EBITDA()," Lift"]}),value:(0,l.ZP)(K.cumulativeImpact)})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-6 grid md:grid-cols-3 gap-6",children:[(0,n.jsx)(y,{title:"Cumulative Net Benefit",value:(0,l.ZP)(K.cumulativeNet)}),(0,n.jsx)(y,{title:"Payback Period",value:K.paybackYear?"".concat(K.paybackYear," Year(s)"):"Beyond Projection"}),(0,n.jsx)(y,{title:(0,n.jsxs)(n.Fragment,{children:[s.ROI()," Multiple"]}),value:"".concat(K.roiMultiple.toFixed(2),"\xd7")})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-6 grid md:grid-cols-3 gap-6",children:[(0,n.jsx)(y,{title:"Net Present Value",value:(0,l.ZP)(K.npv)}),(0,n.jsx)(y,{title:"Internal Rate of Return",value:null!==K.irr?(0,l.at)(100*K.irr):"N/A"}),(0,n.jsx)(y,{title:"Discount Rate",value:(0,l.at)(M)})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-8",children:[(0,n.jsxs)("h3",{className:"text-sm font-semibold text-neutral-700 mb-4",children:[s.ARR()," Ramp (",s.NRR()," + Capture)"]}),(0,n.jsx)("div",{className:"space-y-2 text-sm",children:K.arrByYear.map((e,t)=>(0,n.jsxs)("div",{className:"flex justify-between border-b border-neutral-100 pb-2",children:[(0,n.jsxs)("span",{children:["Year ",t+1]}),(0,n.jsx)("span",{children:(0,l.ZP)(e)})]},t))})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-6 grid md:grid-cols-4 gap-6",children:[(0,n.jsx)(y,{title:(0,n.jsxs)(n.Fragment,{children:["Final Year ",s.ARR()]}),value:(0,l.ZP)(K.finalYearARR)}),(0,n.jsx)(y,{title:(0,n.jsxs)(n.Fragment,{children:[s.ARR()," Multiple"]}),value:"".concat(E,"\xd7")}),(0,n.jsx)(y,{title:(0,n.jsxs)(n.Fragment,{children:["Implied ",s.ARR()," Valuation"]}),value:(0,l.ZP)(K.arrValuationImpact)}),(0,n.jsx)(y,{title:(0,n.jsxs)(n.Fragment,{children:["Per-Facility ",s.LTV()," (Approx.)"]}),value:K.ltvPerFacility?(0,l.ZP)(K.ltvPerFacility):"N/A"})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-8",children:[(0,n.jsxs)("h3",{className:"text-sm font-semibold text-neutral-700 mb-4",children:[s.SaaS()," ",s.EBITDA()," Projection"]}),(0,n.jsx)("div",{className:"space-y-2 text-sm mb-6",children:K.saasEbitdaByYear.map((e,t)=>(0,n.jsxs)("div",{className:"flex justify-between border-b border-neutral-100 pb-2",children:[(0,n.jsxs)("span",{children:["Year ",t+1]}),(0,n.jsx)("span",{children:(0,l.ZP)(e)})]},t))}),(0,n.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,n.jsx)(y,{title:(0,n.jsxs)(n.Fragment,{children:["Final Year ",s.SaaS()," ",s.EBITDA()]}),value:(0,l.ZP)(K.finalYearSaasEbitda)}),(0,n.jsx)(y,{title:(0,n.jsxs)(n.Fragment,{children:[s.EBITDA()," Margin"]}),value:(0,l.at)(K.saasEbitdaMarginPct)}),(0,n.jsx)(y,{title:(0,n.jsxs)(n.Fragment,{children:[s.EBITDA()," Valuation Impact"]}),value:(0,l.ZP)(K.ebitdaValuationImpact)})]})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-8",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-neutral-700 mb-4",children:"Cohort Expansion View"}),(0,n.jsx)("div",{className:"space-y-2 text-sm",children:K.cohortFinalYearContributions.map((e,t)=>(0,n.jsxs)("div",{className:"flex justify-between border-b border-neutral-100 pb-2",children:[(0,n.jsx)("span",{children:e.label}),(0,n.jsx)("span",{children:(0,l.ZP)(e.value)})]},t))})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 pt-8",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-neutral-700 mb-4",children:"Scenario Comparison"}),(0,n.jsx)("div",{className:"grid md:grid-cols-3 gap-6 text-sm",children:K.scenarios.map(e=>{let a=t*e.multiplier*h;return(0,n.jsxs)("div",{className:"border border-neutral-200 rounded-md p-4",children:[(0,n.jsxs)("div",{className:"text-neutral-500 mb-2",children:[e.name," Case"]}),(0,n.jsx)("div",{className:"text-lg font-semibold",children:(0,l.ZP)(a)}),(0,n.jsxs)("div",{className:"text-neutral-500 mt-1",children:["Annual Portfolio ",s.EBITDA()," Lift"]})]},e.name)})})]})]})]})}let C={annualTonsProcessed:25e3,avgMaterialCostPerTon:850,annualFabricationRevenue:4e7,annualFabricationLaborCost:6e6,incrementalContributionMarginPct:20,currentScrapRatePct:8,targetScrapRatePct:6.5,preventableReworkLaborPct:4,reworkReductionPct:40,throughputImprovementPct:2,includeOversightRisk:!0,annualQALaborCost:5e5,annualMajorErrorCost:25e4,errorReductionPct:30};function S(){let[e,t]=(0,r.useState)(C),[a,i]=(0,r.useState)(null),[d,u]=(0,r.useState)(!1),[m,x]=(0,r.useState)(""),h=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(!a||!h.current)return;u(!1);let e=window.matchMedia("(prefers-reduced-motion: reduce)").matches,t=window.scrollY,n=Math.max(0,h.current.getBoundingClientRect().top+window.scrollY-.35*window.innerHeight);if(e){window.scrollTo({top:n,behavior:"auto"}),u(!0);return}let r=window.setTimeout(()=>{u(!0)},0),l=0,s=performance.now(),i=e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,o=e=>{let a=Math.min((e-s)/2500,1),r=i(a);window.scrollTo(0,t+(n-t)*r),a<1?l=window.requestAnimationFrame(o):u(!0)};return l=window.requestAnimationFrame(o),()=>{l&&window.cancelAnimationFrame(l),window.clearTimeout(r)}},[a]),(0,n.jsxs)("div",{className:"space-y-12",children:[(0,n.jsx)("section",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-medium",children:"Execution errors quietly erode margin."}),(0,n.jsxs)("p",{className:"mt-2 text-sm text-neutral-600",children:["This model estimates ",(0,n.jsx)(c,{acronym:"EBITDA",caption:"Earnings Before Interest, Taxes, Depreciation, and Amortization"})," impact from material efficiency, labor efficiency, throughput capacity, and oversight risk reduction."]})]}),(0,n.jsxs)("div",{className:"rounded-lg border border-neutral-200 p-4 text-sm min-w-56",children:[(0,n.jsx)("div",{className:"text-neutral-500",children:"Signal"}),(0,n.jsx)("div",{className:"font-semibold mt-1",children:"A 1% scrap shift can materially impact EBITDA."})]})]})}),(0,n.jsx)(o,{inputs:e,setInputs:t}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)("button",{onClick:function(){try{let t=(0,l.Nx)(e);i(t),x(""),(0,s.M)({annualTons:e.annualTonsProcessed,scrapRatePct:e.currentScrapRatePct,costPerTon:e.avgMaterialCostPerTon,estimatedEbitda:t.totals.annualEbitdaIncrease,estimatedMaterialSavings:t.material.dollarsSaved,estimatedTonsSaved:t.material.tonsSaved,materialDollarsSaved:t.material.dollarsSaved,laborDollarsSaved:t.labor.dollarsSaved,throughputContribution:t.throughput.ebitdaContribution,oversightRiskSaved:t.oversightRisk.dollarsSaved})}catch(e){x((null==e?void 0:e.message)||"Unable to compute model."),i(null)}},className:"bg-black text-white px-6 py-3 rounded-md text-sm font-medium hover:bg-neutral-800 transition",children:"Calculate Margin Impact"})}),m&&(0,n.jsx)("p",{className:"text-sm text-red-600 text-center",children:m}),a&&(0,n.jsxs)("div",{ref:h,className:"space-y-12",children:[(0,n.jsx)("div",{className:"overflow-hidden transition-all duration-[2500ms] ease-out ".concat(d?"max-h-[1200px] translate-y-0 opacity-100":"max-h-0 translate-y-6 opacity-0"),children:(0,n.jsx)(b,{results:a})}),(0,n.jsx)(P,{perFacilityEbitdaIncrease:a.totals.annualEbitdaIncrease,perFacilityRevenue:e.annualFabricationRevenue})]})]})}},3734:function(e,t,a){"use strict";a.d(t,{$:function(){return l},C:function(){return n},n:function(){return r}});let n={bg:"#070b12",bgDeep:"#0d1520",card:"#111d2c",line:"#1e3048",lineLt:"#263d5a",muted:"#8aa8c8",txt:"#e4edf8",accent:"#2e7deb",accent2:"#6fb0ff",green:"#38E18E",amber:"#f59e0b"},r="Inter, system-ui, sans-serif",l="ui-monospace, SFMono-Regular, Menlo, Consolas, monospace"},3604:function(e,t,a){"use strict";a.d(t,{E:function(){return l},M:function(){return r}});let n="ra_calc_ctx";function r(e){try{sessionStorage.setItem(n,JSON.stringify(e))}catch(e){}}function l(){try{let e=sessionStorage.getItem(n);return e?JSON.parse(e):null}catch(e){return null}}},1409:function(e,t,a){"use strict";function n(e,t,a){return Math.min(Math.max(e,t),a)}function r(e){!function(e){for(let t of["annualTonsProcessed","avgMaterialCostPerTon","annualFabricationRevenue","annualFabricationLaborCost","incrementalContributionMarginPct","currentScrapRatePct","targetScrapRatePct","preventableReworkLaborPct","reworkReductionPct","throughputImprovementPct","includeOversightRisk"])if("number"!=typeof e[t]&&"boolean"!=typeof e[t])throw Error("Missing or invalid input: ".concat(t));if(e.annualTonsProcessed<0)throw Error("annualTonsProcessed must be >= 0");if(e.avgMaterialCostPerTon<0)throw Error("avgMaterialCostPerTon must be >= 0");if(e.annualFabricationRevenue<0)throw Error("annualFabricationRevenue must be >= 0");if(e.annualFabricationLaborCost<0)throw Error("annualFabricationLaborCost must be >= 0");if(e.includeOversightRisk)for(let t of["annualQALaborCost","annualMajorErrorCost","errorReductionPct"]){if("number"!=typeof e[t])throw Error("Missing oversight/risk input: ".concat(t));if(e[t]<0)throw Error("".concat(t," must be >= 0"))}}(e);let t=n(e.currentScrapRatePct,0,100),a=n(e.targetScrapRatePct,0,100),r=n(e.preventableReworkLaborPct,0,100),l=n(e.reworkReductionPct,0,100),s=n(e.throughputImprovementPct,0,100),i=n(e.incrementalContributionMarginPct,0,100),o=e.skipVolumeScale?1:Math.max(0,e.annualTonsProcessed)/25e3,c=e.annualTonsProcessed*(Math.max(0,t-a)/100),d=c*e.avgMaterialCostPerTon,u=e.annualFabricationLaborCost*o*(r/100)*(l/100),m=e.annualFabricationRevenue*o,x=s/100*m,h=i/100*x,b=0;if(e.includeOversightRisk){let t=n(e.errorReductionPct,0,100);b=e.annualQALaborCost*o*(t/100)+e.annualMajorErrorCost*o*(t/100)}let p=d+u+h+b;return{material:{tonsSaved:c,dollarsSaved:d},labor:{dollarsSaved:u},throughput:{incrementalRevenue:x,ebitdaContribution:h},oversightRisk:{dollarsSaved:b},totals:{annualEbitdaIncrease:p,ebitdaMarginImprovementPct:m>0?p/m*100:0},pricing:{lowFrictionAnnual:.08*p,baseAnnual:.12*p,aggressiveAnnual:.15*p}}}function l(e){let{maximumFractionDigits:t=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:t}).format(Number.isFinite(e)?e:0)}function s(e){let{maximumFractionDigits:t=2}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Intl.NumberFormat("en-US",{maximumFractionDigits:t}).format(Number.isFinite(e)?e:0)}function i(e){let{maximumFractionDigits:t=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"".concat(s(e,{maximumFractionDigits:t}),"%")}a.d(t,{Nx:function(){return r},ZP:function(){return l},at:function(){return i},uf:function(){return s}})}},function(e){e.O(0,[235,83,971,23,744],function(){return e(e.s=3982)}),_N_E=e.O()}]);